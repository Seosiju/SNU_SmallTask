# Task(4) AI Persona Chatbot

## 📋 프로젝트 개요

이 프로젝트는 OpenAI GPT 모델을 활용하여 역사적 인물들의 페르소나로 대화할 수 있는 AI 챗봇을 구현합니다. 각 인물의 고유한 말투, 사고방식, 그리고 시대적 배경을 반영하여 현실적인 대화 경험을 제공합니다.

## 🎯 주요 기능

### 1. 다중 페르소나 지원

- **알베르트 아인슈타인**: 20세기 이론물리학자, 상대성이론의 아버지
- **마하트마 간디**: 비폭력·불복종 운동의 지도자
- **스티브 잡스**: 애플 공동 창업자, 혁신적 제품 디자이너
- **세종대왕**: 조선 4대 임금, 훈민정음 창제자

### 2. 개별화된 대화 스타일

각 인물마다 고유한 특성을 반영:

- **말투와 문체**: 시대적 배경에 맞는 언어 사용
- **사고방식**: 각 인물의 철학과 가치관 반영
- **안전장치**: 역사적 맥락을 고려한 적절한 제약

### 3. 사용자 친화적 인터페이스

- CLI 기반 대화 인터페이스
- 직관적인 인물 선택 시스템
- 실시간 대화 및 종료 기능

## 🛠️ 기술 스택

- **Python 3.x**
- **OpenAI API** (GPT-4.1-mini)
- **python-dotenv**: 환경변수 관리
- **Jupyter Notebook**: 개발 및 테스트 환경

## 📁 파일 구조

```
task4/
├── task(4).ipynb          # 메인 노트북 파일
├── README_task(4).md      # 프로젝트 문서
└── OPENAI_API_KEY.env     # API 키 설정 파일 (별도 생성 필요)
```

## 🚀 설치 및 실행

### 1. 필수 패키지 설치

```bash
pip install openai python-dotenv
```

### 2. 환경변수 설정

`OPENAI_API_KEY.env` 파일을 생성하고 OpenAI API 키를 설정:

```
OPENAI_API_KEY=your_api_key_here
```

### 3. 실행 방법

#### Jupyter Notebook에서 실행

1. `task(4).ipynb` 파일을 열기
2. 셀을 순차적으로 실행
3. 대화 시작

#### Python 스크립트로 실행

```bash
python task(4).ipynb
```

## 💡 사용법

### 1. 인물 선택

프로그램 실행 시 다음 중 하나를 선택:

- `einstein` 또는 `아인슈타인`
- `gandhi` 또는 `간디`
- `jobs` 또는 `스티브잡스`
- `sejong` 또는 `세종대왕`

### 2. 대화 시작

선택한 인물과 자연스러운 대화를 나눌 수 있습니다.

### 3. 대화 종료

`:exit`, `:quit`, `exit`, `quit` 중 하나를 입력하여 종료

## 🎨 페르소나별 특징

### 알베르트 아인슈타인

- **특징**: 침착하고 사색적인 어조
- **스타일**: 비유를 절제하여 사용, 실증과 이론을 구분
- **제약**: 현대 실험 결과를 단정적으로 인용하지 않음

### 마하트마 간디

- **특징**: 간결하고 절제된 도덕적 어조
- **스타일**: 타인의 존엄과 자기 성찰 강조
- **제약**: 폭력과 혐오 표현 금지

### 스티브 잡스

- **특징**: 직관적이고 단호한 어조
- **스타일**: 비전과 스토리텔링 강조
- **제약**: 성과 과장을 자제

### 세종대왕

- **특징**: 자상하고 권위 있는 어조
- **스타일**: 백성 중심의 시각 강조
- **제약**: 현대 정치·사회 문제에 직접적 판단 자제

## 🔧 주요 함수

### `build_system_prompt(persona)`

- 선택된 페르소나의 시스템 프롬프트를 생성
- 말투, 스타일, 안전장치를 포함한 완전한 프롬프트 구성

### `select_persona()`

- 사용자로부터 인물 선택을 받는 함수
- CLI 인자 또는 대화형 입력 지원
- 별칭(alias) 지원으로 다양한 입력 방식 허용

### `chat_loop(model)`

- 메인 대화 루프
- 메시지 히스토리 관리 (최근 20개 메시지 유지)
- 오류 처리 및 재시도 로직 포함

## ⚙️ 설정 옵션

### 모델 변경

```python
# GPT-4.1-mini 대신 다른 모델 사용
chat_loop(model="gpt-4.1")  # 또는 "gpt-4o-mini"
```

### 메시지 히스토 관리

```python
# 최근 메시지 개수 조정 (기본값: 20)
trimmed = [messages[0]] + messages[-20:]
```

## 🛡️ 안전장치

1. **역사적 맥락 고려**: 현대 지식에 대한 단정 방지
2. **과장 방지**: 권위를 앞세우지 않는 표현
3. **추정 표현**: 근거가 약한 경우 추정으로 표현
4. **간결성**: 필요시에만 시대적 배경 추가

## 🔍 예시 대화

```
[스티브 잡스와의 대화를 시작합니다. ':exit'로 종료]

나(사용자): 왜 애플을 만들었나요?
스티브 잡스: 애플을 만든 건, 기존의 기술이 사람들을 위한 것이 아니라고 느꼈기 때문이야. 
당시 컴퓨터는 전문가들만 쓰는 복잡하고 멀게 느껴지는 기계였지. 
우리는 그걸 바꾸고 싶었어. 개인이, 창의적으로, 직관적으로 사용할 수 있는 도구를 만들고 싶었거든.
```

## 📝 주의사항

1. **API 키 보안**: `OPENAI_API_KEY.env` 파일을 `.gitignore`에 추가하여 버전 관리에서 제외
2. **API 사용량**: OpenAI API 사용량에 따른 비용 발생 가능
3. **모델 한계**: AI가 생성하는 내용은 실제 인물의 의견이 아님을 명시
4. **교육 목적**: 이 프로젝트는 교육 및 학습 목적으로 제작됨

## 🚧 향후 개선 사항

- [ ] 웹 인터페이스 추가
- [ ] 더 많은 역사적 인물 추가
- [ ] 대화 히스토리 저장 기능
- [ ] 음성 대화 지원
- [ ] 다국어 지원
